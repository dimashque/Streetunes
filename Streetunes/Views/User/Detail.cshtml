@page
@using Streetunes.Models
@model AppUser




<div class="container mt-5">
    <div class="card shadow-lg p-4">
        <div class="row">
            <!-- Profile Info Section -->
            <div class="col-md-4 text-center">
                <img src="@Model.ProfileImageUrl" class="rounded-circle img-fluid profile-img" alt="Profile Image">
                <h2 class="mt-3">@Model.UserName</h2>
                <p class="text-muted">
                    @Model.City, @Model.State
                </p>
            </div>

            <!-- Recent Events Section -->
            <div class="col-md-8">
                <h3>Created Events</h3>
                <div class="slider">
                    @foreach (var ev in Model.CreatedEvents)
                    {
                        <div class="event-card">
                            <img src="@ev.Image" alt="@ev.Title" class="event-img">
                            <h5>@ev.Title</h5>
                            <p>@ev.Date.ToString("MMM dd, yyyy")</p>
                        </div>
                    }
                </div>

                <h3 class="mt-4">Attended Events</h3>
                <div class="slider">
                    @foreach (var ev in @Model.Events)
                    {
                        <div class="event-card">
                            <img src="@ev.Image" alt="@ev.Title" class="event-img">
                            <h5>@ev.Title</h5>
                            <p>@ev.Date.ToString("MMM dd, yyyy")</p>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.slider').slick({
                infinite: true,
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplay: true,
                autoplaySpeed: 3000,
                dots: true,
                arrows: false,
            });
        });
    </script>
}

<style>
    .profile-img {
        width: 150px;
        height: 150px;
        object-fit: cover;
        border: 3px solid #007bff;
    }

    .slider {
        margin-top: 10px;
    }

    .event-card {
        text-align: center;
        padding: 10px;
    }

    .event-img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 10px;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    }
</style>
